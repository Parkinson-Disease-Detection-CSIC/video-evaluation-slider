
{% extends "base_generic.html" %}

{% block content %}

{% csrf_token %}
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Rubik&display=swap" rel="stylesheet">
<style>
body, html {
  width: 100%;
  height: 100%;
  margin: 0;
}

.container {
  width: 100%;
  height: 100%;
}

.leftpane {
    width: 45%;
    height: 80%;
    float: left;
    background-color: rosybrown;
}

.rightpane {
  width: 45%;
  height: 80%;
  position: relative;
  float: right;
  background-color: blue;
  border-collapse: collapse;
  padding: 20px;
}

.toppane {
  width: 100%;
  height: 100px;
  border-collapse: collapse;
  background-color: #4da6ff;
}

    * {
        font-family: "Rubik", "sans-serif";
        font-size: 24pt;
    }

    .rate {
    }
    .rate:not(:checked) > input {
	position: relative;
        top:-9999px; 
    }
    .rate:not(:checked) > label {
        float:right;
        width:1em;
        overflow:hidden;
        white-space:nowrap;
        cursor:pointer;
        font-size:30px;
        color:#ccc;
    }
    .rate:not(:checked) > label:before {
        content: 'â˜… ';
    }
    .rate > input:checked ~ label {
       color: #ffc700;
    }
    .rate:not(:checked) > label:hover,
    .rate:not(:checked) > label:hover ~ label {
         color: #deb217;
    }
    .rate > input:checked + label:hover,
    .rate > input:checked + label:hover ~ label,
    .rate > input:checked ~ label:hover,
    .rate > input:checked ~ label:hover ~ label,
    .rate > label:hover ~ input:checked ~ label {
        color: #c59b08;
    }

    .vertical-center {
        text-align: right;
        margin: 0;
	position: relative;
	top: 50%;
	-ms-transform: translateY(-50%);
	transform: translateY(-50%);
    }

    div {
        text-align: right;
        margin-top: 50px;
    }

    h1 {
        color: green;
        font-size: 42pt;
        text-align: center;
    }

    input[type="range"] {
        width:300px;
    }

</style>
<div class="container">
<div class="toppane" style="padding: 10px">
    <h1>Updating information for subject {{ sub_num }}.</h1><br>
</div>
<div class="leftpane" style="padding-right: 20px; padding-bottom: 20px">
{% if type == "symptoms"  %}
<div>
    <div class="rate">
        <input type="radio" id="star5tremor" name="rateTremor" value="5" />
        <label for="star5tremor" title="very high confidence">5 stars</label>
        <input type="radio" id="star4tremor" name="rateTremor" value="4" />
        <label for="star4tremor" title="high confidence">4 stars</label>
        <input type="radio" id="star3tremor" name="rateTremor" value="3" />
        <label for="star3tremor" title="medium confidence">3 stars</label>
        <input type="radio" id="star2tremor" name="rateTremor" value="2" />
        <label for="star2tremor" title="low confidence">2 stars</label>
        <input type="radio" id="star1tremor" name="rateTremor" value="1" />
        <label for="star1tremor" title="very low confidence">1 star</label>
    </div>
    <div class="vertical-center">
        <label for="rangeTremor">Tremor</label>
        <input type="range" name="rangTremor" min="0" max="100">
    </div>
</div>
<div>
    <div class="rate">
        <input type="radio" id="star5bradykinesia" name="rateBradykinesia" value="5" />
        <label for="star5bradykinesia" title="very high confidence">5 stars</label>
        <input type="radio" id="star4bradykinesia" name="rateBradykinesia" value="4" />
        <label for="star4bradykinesia" title="high confidence">4 stars</label>
        <input type="radio" id="star3bradykinesia" name="rateBradykinesia" value="3" />
        <label for="star3bradykinesia" title="medium confidence">3 stars</label>
        <input type="radio" id="star2bradykinesia" name="rateBradykinesia" value="2" />
        <label for="star2bradykinesia" title="low confidence">2 stars</label>
        <input type="radio" id="star1bradykinesia" name="rateBradykinesia" value="1" />
        <label for="star1bradykinesia" title="very low confidence">1 star</label>
    </div>
    <div class="vertical-center">
        <label for="rangeBradykinesia">Bradykinesia</label>
        <input type="range" name="rangBradykinesia" min="0" max="100">
    </div>
</div>
<div>
    <div class="rate">
        <input type="radio" id="star5stability" name="rateStability" value="5" />
        <label for="star5stability" title="very high confidence">5 stars</label>
        <input type="radio" id="star4stability" name="rateStability" value="4" />
        <label for="star4stability" title="high confidence">4 stars</label>
        <input type="radio" id="star3stability" name="rateStability" value="3" />
        <label for="star3stability" title="medium confidence">3 stars</label>
        <input type="radio" id="star2stability" name="rateStability" value="2" />
        <label for="star2stability" title="low confidence">2 stars</label>
        <input type="radio" id="star1stability" name="rateStability" value="1" />
        <label for="star1stability" title="very low confidence">1 star</label>
    </div>
    <div class="vertical-center">
        <label for="rangeStability">Stability</label>
        <input type="range" name="rangStability" min="0" max="100">
    </div>
</div>
<div>
    <div class="rate">
        <input type="radio" id="star5dynstability" name="rateDynStability" value="5" />
        <label for="star5dynstability" title="very high confidence">5 stars</label>
        <input type="radio" id="star4dynstability" name="rateDynStability" value="4" />
        <label for="star4dynstability" title="high confidence">4 stars</label>
        <input type="radio" id="star3dynstability" name="rateDynStability" value="3" />
        <label for="star3dynstability" title="medium confidence">3 stars</label>
        <input type="radio" id="star2dynstability" name="rateDynStability" value="2" />
        <label for="star2dynstability" title="low confidence">2 stars</label>
        <input type="radio" id="star1dynstability" name="rateDynStability" value="1" />
        <label for="star1dynstability" title="very low confidence">1 star</label>
    </div>
    <div class="vertical-center">
        <label for="rangeDynStability">Dynamic Stability</label>
        <input type="range" name="rangDynStability" min="0" max="100">
    </div>
</div>
<div>
    <div class="rate">
        <input type="radio" id="star5freezing" name="rateFreezing" value="5" />
        <label for="star5freezing" title="very high confidence">5 stars</label>
        <input type="radio" id="star4freezing" name="rateFreezing" value="4" />
        <label for="star4freezing" title="high confidence">4 stars</label>
        <input type="radio" id="star3freezing" name="rateFreezing" value="3" />
        <label for="star3freezing" title="medium confidence">3 stars</label>
        <input type="radio" id="star2freezing" name="rateFreezing" value="2" />
        <label for="star2freezing" title="low confidence">2 stars</label>
        <input type="radio" id="star1freezing" name="rateFreezing" value="1" />
        <label for="star1freezing" title="very low confidence">1 star</label>
    </div>
    <div class="vertical-center">
        <label for="rangeFreezing">Freezing</label>
        <input type="range" name="rangFreezing" min="0" max="100">
    </div>
</div>
<div>
    <div class="rate">
        <input type="radio" id="star5smoothness" name="rateSmoothness" value="5" />
        <label for="star5smoothness" title="very high confidence">5 stars</label>
        <input type="radio" id="star4smoothness" name="rateSmoothness" value="4" />
        <label for="star4smoothness" title="high confidence">4 stars</label>
        <input type="radio" id="star3smoothness" name="rateSmoothness" value="3" />
        <label for="star3smoothness" title="medium confidence">3 stars</label>
        <input type="radio" id="star2smoothness" name="rateSmoothness" value="2" />
        <label for="star2smoothness" title="low confidence">2 stars</label>
        <input type="radio" id="star1smoothness" name="rateSmoothness" value="1" />
        <label for="star1smoothness" title="very low confidence">1 star</label>
    </div>
    <div class="vertical-center">
        <label for="rangeSmoothness">Smoothness</label>
        <input type="range" name="rangSmoothness" min="0" max="100">
    </div>
</div>
<div>
    <div class="rate">
        <input type="radio" id="star5symmetry" name="rateSymmetry" value="5" />
        <label for="star5symmetry" title="very high confidence">5 stars</label>
        <input type="radio" id="star4symmetry" name="rateSymmetry" value="4" />
        <label for="star4symmetry" title="high confidence">4 stars</label>
        <input type="radio" id="star3symmetry" name="rateSymmetry" value="3" />
        <label for="star3symmetry" title="medium confidence">3 stars</label>
        <input type="radio" id="star2symmetry" name="rateSymmetry" value="2" />
        <label for="star2symmetry" title="low confidence">2 stars</label>
        <input type="radio" id="star1symmetry" name="rateSymmetry" value="1" />
        <label for="star1symmetry" title="very low confidence">1 star</label>
    </div>
    <div class="vertical-center">
        <label for="rangeSymmetry">Symmetry</label>
        <input type="range" name="rangSymmetry" min="0" max="100">
    </div>
</div>
{% else %}
<div>
    <div class="rate">
        <input type="radio" id="star5general" name="rateGeneral" value="5" />
        <label for="star5general" title="very high confidence">5 stars</label>
        <input type="radio" id="star4general" name="rateGeneral" value="4" />
        <label for="star4general" title="high confidence">4 stars</label>
        <input type="radio" id="star3general" name="rateGeneral" value="3" />
        <label for="star3general" title="medium confidence">3 stars</label>
        <input type="radio" id="star2general" name="rateGeneral" value="2" />
        <label for="star2general" title="low confidence">2 stars</label>
        <input type="radio" id="star1general" name="rateGeneral" value="1" />
        <label for="star1general" title="very low confidence">1 star</label>
    </div>
    <div class="vertical-center">
        <label for="rangeGeneral">GENERAL</label>
        <input type="range" name="rangGeneral" min="0" max="100">
    </div>
</div>
{% endif %}
</div>
<div class="rightpane">
<div style="text-align:center">
   <iframe src={{ videos.0 }} width="640" height="480" allow="autoplay"></iframe>
</div>
<div style="text-align:center">
    <div>
        <button style="background-color:red; border-color:yellow; color:white; visibility:hidden" onclick="previousVideo()" id="leftButton" name="Previous">Previous Video</button>
    </div>
    <div>
        <button style="background-color:red; border-color:yellow; color:white" onclick="nextVideo()" id="middleButton" name="Next">Next Video</button>
    </div>
    <div>
        <button style="background-color:red; border-color:yellow; color:white; visibility:hidden" onclick="saveAndNext()" id="rightButton" name="SaveAndNext">Save and Next</button>
    </div>
</div>
</div>
</div>
<script>
    function nextVideo() {
        videosCount = {{ videos|length }};
        if (videosCount > 1) {
            document.getElementById("leftButton").style.visibility = "visible";
            document.currentVideo=1;
       }
       if (document.currentVideo == videosCount - 1) {
           document.getElementById("middleButton").style.visibility = "visible";
       }
    }
</script>
{% endblock %}
